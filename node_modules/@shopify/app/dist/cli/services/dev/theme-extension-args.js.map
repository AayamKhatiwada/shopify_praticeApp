{"version":3,"file":"theme-extension-args.js","sourceRoot":"","sources":["../../../../src/cli/services/dev/theme-extension-args.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,kCAAkC,EAAC,MAAM,mBAAmB,CAAA;AAEpE,MAAM,CAAC,KAAK,UAAU,kBAAkB,CACtC,SAAyB,EACzB,MAAc,EACd,KAAa,EACb,OAAsD;IAEtD,MAAM,qBAAqB,GAAG,MAAM,kCAAkC,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC,CAAA;IAChG,MAAM,WAAW,GAAG,qBAAqB,CAAC,EAAE,CAAA;IAC5C,MAAM,SAAS,GAAG,SAAS,CAAC,SAAS,CAAA;IACrC,MAAM,cAAc,GAAG,SAAS,CAAC,eAAe,CAAA;IAChD,MAAM,aAAa,GAAG,SAAS,CAAC,WAAW,CAAA;IAE3C,MAAM,IAAI,GAAa;QACrB,SAAS;QACT,WAAW;QACX,MAAM;QACN,gBAAgB;QAChB,WAAW;QACX,mBAAmB;QACnB,cAAc;QACd,kBAAkB;QAClB,aAAa;KACd,CAAA;IAED,IAAI,OAAO,CAAC,KAAK,EAAE;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,CAAA;KACpC;IAED,IAAI,OAAO,CAAC,kBAAkB,EAAE;QAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,CAAA;KAC3D;IAED,OAAO,IAAI,CAAA;AACb,CAAC","sourcesContent":["import {ThemeExtension} from '../../models/app/extensions.js'\nimport {ensureThemeExtensionDevEnvironment} from '../environment.js'\n\nexport async function themeExtensionArgs(\n  extension: ThemeExtension,\n  apiKey: string,\n  token: string,\n  options: {theme?: string; themeExtensionPort?: number},\n) {\n  const extensionRegistration = await ensureThemeExtensionDevEnvironment(extension, apiKey, token)\n  const extensionId = extensionRegistration.id\n  const directory = extension.directory\n  const extensionTitle = extension.localIdentifier\n  const extensionType = extension.graphQLType\n\n  const args: string[] = [\n    directory,\n    '--api-key',\n    apiKey,\n    '--extension-id',\n    extensionId,\n    '--extension-title',\n    extensionTitle,\n    '--extension-type',\n    extensionType,\n  ]\n\n  if (options.theme) {\n    args.push('--theme', options.theme)\n  }\n\n  if (options.themeExtensionPort) {\n    args.push('--port', options.themeExtensionPort.toString())\n  }\n\n  return args\n}\n"]}