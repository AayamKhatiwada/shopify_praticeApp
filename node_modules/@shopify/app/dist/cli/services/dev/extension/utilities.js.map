{"version":3,"file":"utilities.js","sourceRoot":"","sources":["../../../../../src/cli/services/dev/extension/utilities.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,mBAAmB,EAAC,MAAM,wDAAwD,CAAA;AAE1F;;;;GAIG;AACH,MAAM,CAAC,KAAK,UAAU,yBAAyB,CAAC,UAAyB,EAAE,KAAa,EAAE,eAAwB;IAChH,MAAM,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC,MAAM,GAAG,CAAC,CAAA;IAC7E,IAAI,CAAC,cAAc;QAAE,OAAO,SAAS,CAAA;IACrC,IAAI,eAAe;QAAE,OAAO,eAAe,CAAA;IAC3C,MAAM,SAAS,GAAG,MAAM,mBAAmB,CAAC,KAAK,CAAC,CAAA;IAClD,OAAO,SAAS,SAAS,IAAI,CAAA;AAC/B,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,wBAAwB,CAAC,SAAsB;IAC7D,OAAO,SAAS,CAAC,aAAa,CAAC,IAAI,KAAK,uBAAuB,CAAA;AACjE,CAAC","sourcesContent":["import {UIExtension} from '../../../models/app/extensions.js'\nimport {fetchProductVariant} from '../../../utilities/extensions/fetch-product-variant.js'\n\n/**\n * To prepare Checkout UI Extensions for dev'ing we need to retrieve a valid product variant ID\n * @param extensions - The UI Extensions to dev\n * @param store - The store FQDN\n */\nexport async function getCartPathFromExtensions(extensions: UIExtension[], store: string, checkoutCartUrl?: string) {\n  const hasUIExtension = extensions.filter(getExtensionNeedsCartURL).length > 0\n  if (!hasUIExtension) return undefined\n  if (checkoutCartUrl) return checkoutCartUrl\n  const variantId = await fetchProductVariant(store)\n  return `/cart/${variantId}:1`\n}\n\n/**\n * Returns true if an extension needs a cart URL.\n */\nexport function getExtensionNeedsCartURL(extension: UIExtension) {\n  return extension.configuration.type === 'checkout_ui_extension'\n}\n"]}