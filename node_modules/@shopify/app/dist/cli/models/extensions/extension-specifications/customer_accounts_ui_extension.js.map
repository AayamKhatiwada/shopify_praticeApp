{"version":3,"file":"customer_accounts_ui_extension.js","sourceRoot":"","sources":["../../../../../src/cli/models/extensions/extension-specifications/customer_accounts_ui_extension.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,mBAAmB,EAAC,MAAM,kBAAkB,CAAA;AACpD,OAAO,EAAC,mBAAmB,EAAC,MAAM,eAAe,CAAA;AACjD,OAAO,EAAC,iBAAiB,EAAC,MAAM,wDAAwD,CAAA;AACxF,OAAO,EAAC,MAAM,EAAE,MAAM,EAAC,MAAM,kBAAkB,CAAA;AAE/C,MAAM,UAAU,GAAG,EAAC,IAAI,EAAE,+CAA+C,EAAE,OAAO,EAAE,SAAS,EAAC,CAAA;AAE9F,MAAM,sBAAsB,GAAG,mBAAmB,CAAC,MAAM,CAAC;IACxD,eAAe,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IAC5D,UAAU,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACvD,YAAY,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE;CAC7C,CAAC,CAAA;AAEF,MAAM,IAAI,GAAG,mBAAmB,CAAC;IAC/B,UAAU,EAAE,gCAAgC;IAC5C,UAAU;IACV,aAAa,EAAE,gCAAgC;IAC/C,MAAM,EAAE,sBAAsB;IAC9B,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE;QACxC,OAAO;YACL,gBAAgB,EAAE,MAAM,CAAC,eAAe;YACxC,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,UAAU,EAAE,MAAM,CAAC,UAAU;YAC7B,YAAY,EAAE,MAAM,iBAAiB,CAAC,SAAS,CAAC;SACjD,CAAA;IACH,CAAC;IACD,cAAc,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE;QAC3C,MAAM,CAAC,SAAS,EAAE,GAAG,gBAAgB,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;QAC7D,MAAM,WAAW,GAAG,GAAG,SAAS,YAAY,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAA;QACxE,MAAM,MAAM,GAAG,kBAAkB,CAAC,GAAG,IAAI,aAAa,CAAC,CAAA;QACvD,MAAM,SAAS,GAAG,WAAW,WAAW,kCAAkC,MAAM,gBAAgB,IAAI,EAAE,CAAA;QACtG,MAAM,MAAM,GAAG,eAAe,IAAI,2EAA2E,CAAA;QAC7G,OAAO,MAAM,CAAC,OAAO,CAAA,GAAG,MAAM,iBAAiB,SAAS,EAAE,CAAA;IAC5D,CAAC;CACF,CAAC,CAAA;AAEF,eAAe,IAAI,CAAA","sourcesContent":["import {createExtensionSpec} from '../extensions.js'\nimport {BaseExtensionSchema} from '../schemas.js'\nimport {loadLocalesConfig} from '../../../utilities/extensions/locales-configuration.js'\nimport {schema, output} from '@shopify/cli-kit'\n\nconst dependency = {name: '@shopify/customer-account-ui-extensions-react', version: '^0.0.20'}\n\nconst CustomerAccountsSchema = BaseExtensionSchema.extend({\n  extensionPoints: schema.define.array(schema.define.string()),\n  categories: schema.define.array(schema.define.string()),\n  localization: schema.define.any().optional(),\n})\n\nconst spec = createExtensionSpec({\n  identifier: 'customer_accounts_ui_extension',\n  dependency,\n  partnersWebId: 'customer_accounts_ui_extension',\n  schema: CustomerAccountsSchema,\n  deployConfig: async (config, directory) => {\n    return {\n      extension_points: config.extensionPoints,\n      name: config.name,\n      categories: config.categories,\n      localization: await loadLocalesConfig(directory),\n    }\n  },\n  previewMessage: (host, uuid, _, storeFqdn) => {\n    const [storeName, ...storeDomainParts] = storeFqdn.split('.')\n    const accountsUrl = `${storeName}.account.${storeDomainParts.join('.')}`\n    const origin = encodeURIComponent(`${host}/extensions`)\n    const publicURL = `https://${accountsUrl}/extensions-development?origin=${origin}&extensionId=${uuid}`\n    const notice = `Please open ${host} and click on 'Visit Site' and then close the tab to allow connections.\\n`\n    return output.content`${notice}Preview link: ${publicURL}`\n  },\n})\n\nexport default spec\n"]}