import { FunctionExtension, ThemeExtension, UIExtension } from './extensions.js';
import { AppErrors } from './loader.js';
import { UIExtensionTypes } from '../../constants.js';
import { schema } from '@shopify/cli-kit';
import { DotEnvFile } from '@shopify/cli-kit/node/dot-env';
import { PackageManager } from '@shopify/cli-kit/node/node-package-manager';
export declare const AppConfigurationSchema: schema.define.ZodObject<{
    scopes: schema.define.ZodDefault<schema.define.ZodString>;
    extensionDirectories: schema.define.ZodOptional<schema.define.ZodArray<schema.define.ZodString, "many">>;
}, "strip", schema.define.ZodTypeAny, {
    extensionDirectories?: string[] | undefined;
    scopes: string;
}, {
    scopes?: string | undefined;
    extensionDirectories?: string[] | undefined;
}>;
export declare enum WebType {
    Frontend = "frontend",
    Backend = "backend"
}
export declare const WebConfigurationSchema: schema.define.ZodObject<{
    type: schema.define.ZodEnum<[WebType.Frontend, WebType.Backend]>;
    auth_callback_path: schema.define.ZodOptional<schema.define.ZodEffects<schema.define.ZodString, string, string>>;
    commands: schema.define.ZodObject<{
        build: schema.define.ZodOptional<schema.define.ZodString>;
        dev: schema.define.ZodString;
    }, "strip", schema.define.ZodTypeAny, {
        build?: string | undefined;
        dev: string;
    }, {
        build?: string | undefined;
        dev: string;
    }>;
}, "strip", schema.define.ZodTypeAny, {
    auth_callback_path?: string | undefined;
    type: WebType;
    commands: {
        build?: string | undefined;
        dev: string;
    };
}, {
    auth_callback_path?: string | undefined;
    type: WebType;
    commands: {
        build?: string | undefined;
        dev: string;
    };
}>;
export declare type AppConfiguration = schema.define.infer<typeof AppConfigurationSchema>;
export declare type WebConfiguration = schema.define.infer<typeof WebConfigurationSchema>;
export declare type WebConfigurationCommands = keyof WebConfiguration['commands'];
export interface Web {
    directory: string;
    configuration: WebConfiguration;
    framework?: string;
}
export interface AppInterface {
    name: string;
    idEnvironmentVariableName: string;
    directory: string;
    packageManager: PackageManager;
    configuration: AppConfiguration;
    configurationPath: string;
    nodeDependencies: {
        [key: string]: string;
    };
    webs: Web[];
    usesWorkspaces: boolean;
    dotenv?: DotEnvFile;
    extensions: {
        ui: UIExtension[];
        theme: ThemeExtension[];
        function: FunctionExtension[];
    };
    errors?: AppErrors;
    hasExtensions: () => boolean;
    hasUIExtensions: () => boolean;
    updateDependencies: () => Promise<void>;
}
export declare class App implements AppInterface {
    name: string;
    idEnvironmentVariableName: string;
    directory: string;
    packageManager: PackageManager;
    configuration: AppConfiguration;
    configurationPath: string;
    nodeDependencies: {
        [key: string]: string;
    };
    webs: Web[];
    usesWorkspaces: boolean;
    dotenv?: DotEnvFile;
    errors?: AppErrors;
    extensions: {
        ui: UIExtension[];
        theme: ThemeExtension[];
        function: FunctionExtension[];
    };
    constructor(name: string, idEnvironmentVariableName: string, directory: string, packageManager: PackageManager, configuration: AppConfiguration, configurationPath: string, nodeDependencies: {
        [key: string]: string;
    }, webs: Web[], ui: UIExtension[], theme: ThemeExtension[], functions: FunctionExtension[], usesWorkspaces: boolean, dotenv?: DotEnvFile, errors?: AppErrors);
    updateDependencies(): Promise<void>;
    hasExtensions(): boolean;
    hasUIExtensions(): boolean;
}
declare type RendererVersionResult = {
    name: string;
    version: string;
} | undefined | 'not_found';
/**
 * Given a UI extension and the app it belongs to, it returns the version of the renderer package.
 * Looks for `/node_modules/@shopify/{renderer-package-name}/package.json` to find the real version used.
 * @param uiExtensionType - UI extension whose renderer version will be obtained.
 * @param app - App object containing the extension.
 * @returns The version if the dependency exists.
 */
export declare function getUIExtensionRendererVersion(uiExtensionType: UIExtensionTypes, app: AppInterface): Promise<RendererVersionResult>;
export declare function getDependencyVersion(dependency: string, directory: string): Promise<RendererVersionResult>;
export {};
