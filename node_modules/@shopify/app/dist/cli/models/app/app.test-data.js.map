{"version":3,"file":"app.test-data.js","sourceRoot":"","sources":["../../../../src/cli/models/app/app.test-data.ts"],"names":[],"mappings":"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","sourcesContent":["import {App, AppInterface} from './app.js'\nimport {FunctionExtension, ThemeExtension, UIExtension} from './extensions.js'\n\nexport function testApp(app: Partial<AppInterface> = {}): AppInterface {\n  const newApp = new App(\n    app.name ?? 'App',\n    app.idEnvironmentVariableName ?? 'SHOPIFY_API_KEY',\n    app.directory ?? '/tmp/project',\n    app.packageManager ?? 'yarn',\n    app.configuration ?? {scopes: '', extensionDirectories: []},\n    app.configurationPath ?? '/tmp/project/shopify.app.toml',\n    app.nodeDependencies ?? {},\n    app.webs ?? [],\n    app.extensions?.ui ?? [],\n    app.extensions?.theme ?? [],\n    app.extensions?.function ?? [],\n    app.usesWorkspaces ?? false,\n    app.dotenv,\n    app.errors,\n  )\n  if (app.updateDependencies) {\n    Object.getPrototypeOf(newApp).updateDependencies = app.updateDependencies\n  }\n  if (app.hasUIExtensions) {\n    Object.getPrototypeOf(newApp).hasUIExtensions = app.hasUIExtensions\n  }\n  return newApp\n}\n\nexport function testUIExtension(uiExtension: Partial<UIExtension> = {}): UIExtension {\n  const directory = uiExtension?.directory ?? '/tmp/project/extensions/test-ui-extension'\n\n  return {\n    localIdentifier: uiExtension?.localIdentifier ?? 'test-ui-extension',\n    outputBundlePath: uiExtension?.outputBundlePath ?? `${directory}/dist/main.js`,\n    configuration: uiExtension?.configuration ?? {\n      name: uiExtension?.configuration?.name ?? 'test-ui-extension',\n      type: uiExtension?.configuration?.type ?? 'product_subscription',\n      metafields: [],\n      capabilities: {\n        block_progress: false,\n        network_access: false,\n      },\n    },\n    type: 'checkout_post_purchase',\n    graphQLType: 'CHECKOUT_POST_PURCHASE',\n    configurationPath: uiExtension?.configurationPath ?? `${directory}/shopify.ui.extension.toml`,\n    directory,\n    entrySourceFilePath: uiExtension?.entrySourceFilePath ?? `${directory}/src/index.js`,\n    idEnvironmentVariableName: uiExtension?.idEnvironmentVariableName ?? 'SHOPIFY_TET_UI_EXTENSION_ID',\n    devUUID: 'devUUID',\n  }\n}\n\nexport function testThemeExtensions(): ThemeExtension {\n  return {\n    configuration: {\n      name: 'theme extension name',\n      type: 'theme',\n    },\n    idEnvironmentVariableName: '',\n    localIdentifier: 'extension title',\n    configurationPath: '',\n    directory: './my-extension',\n    type: 'theme',\n    graphQLType: 'THEME_APP_EXTENSION',\n  }\n}\n\nexport function testFunctionExtension(): FunctionExtension {\n  return {\n    configuration: {\n      name: 'test function extension',\n      description: 'description',\n      type: 'product_discounts',\n      build: {\n        command: 'echo \"hello world\"',\n      },\n      apiVersion: '2022-07',\n      configurationUi: true,\n    },\n    buildWasmPath: () => '',\n    inputQueryPath: () => '',\n    metadata: {\n      schemaVersions: {},\n    },\n    idEnvironmentVariableName: '',\n    localIdentifier: 'extension title',\n    configurationPath: '',\n    directory: './my-extension',\n    type: 'product_discounts',\n    graphQLType: 'PRODUCT_DISCOUNTS',\n  }\n}\n"]}