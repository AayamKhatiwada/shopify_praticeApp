{"version":3,"file":"upgrade.js","sourceRoot":"","sources":["../../../src/cli/commands/upgrade.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,OAAO,EAAC,MAAM,wBAAwB,CAAA;AAC9C,OAAO,EAAC,KAAK,EAAC,MAAM,aAAa,CAAA;AACjC,OAAO,EAAC,SAAS,EAAE,IAAI,EAAC,MAAM,kBAAkB,CAAA;AAChD,OAAO,OAAO,MAAM,oCAAoC,CAAA;AAExD,MAAM,CAAC,OAAO,OAAO,OAAQ,SAAQ,OAAO;IAY1C,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QACzC,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,CAAA;QACvE,MAAM,cAAc,GAAG,MAAM,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAA;QACxD,MAAM,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAAA;IAC1C,CAAC;;AAhBM,mBAAW,GAAG,yBAAyB,CAAA;AAEvC,aAAK,GAAG;IACb,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC;QACjB,MAAM,EAAE,KAAK;QACb,WAAW,EAAE,qCAAqC;QAClD,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACzD,GAAG,EAAE,mBAAmB;KACzB,CAAC;CACH,CAAA","sourcesContent":["import {upgrade} from '../services/upgrade.js'\nimport {Flags} from '@oclif/core'\nimport {constants, path} from '@shopify/cli-kit'\nimport Command from '@shopify/cli-kit/node/base-command'\n\nexport default class Upgrade extends Command {\n  static description = 'Upgrade the Shopify CLI'\n\n  static flags = {\n    path: Flags.string({\n      hidden: false,\n      description: 'The path to your project directory.',\n      parse: (input, _) => Promise.resolve(path.resolve(input)),\n      env: 'SHOPIFY_FLAG_PATH',\n    }),\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Upgrade)\n    const directory = flags.path ? path.resolve(flags.path) : process.cwd()\n    const currentVersion = await constants.versions.cliKit()\n    await upgrade(directory, currentVersion)\n  }\n}\n"]}