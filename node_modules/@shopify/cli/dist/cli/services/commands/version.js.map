{"version":3,"file":"version.js","sourceRoot":"","sources":["../../../../src/cli/services/commands/version.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,MAAM,EAAE,KAAK,EAAC,MAAM,kBAAkB,CAAA;AAC9C,OAAO,EAAC,kBAAkB,EAAE,6BAA6B,EAAC,MAAM,4CAA4C,CAAA;AAM5G,MAAM,CAAC,KAAK,UAAU,cAAc,CAAC,OAA8B;IACjE,MAAM,aAAa,GAAG,cAAc,CAAA;IACpC,MAAM,cAAc,GAAG,OAAO,CAAC,cAAc,CAAA;IAC7C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,gCAAgC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,KAAK,CAAC,CAAA;IACtG,MAAM,WAAW,GAAG,MAAM,kBAAkB,CAAC,aAAa,EAAE,cAAc,CAAC,CAAA;IAC3E,IAAI,WAAW,EAAE;QACf,MAAM,cAAc,GAAG,6BAA6B,EAAE,CAAA;QACtD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,0BAA0B,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC,CAAA;KAC5E;IACD,MAAM,IAAI,KAAK,CAAC,eAAe,EAAE,CAAA;AACnC,CAAC","sourcesContent":["import {output, error} from '@shopify/cli-kit'\nimport {checkForNewVersion, packageManagerUsedForCreating} from '@shopify/cli-kit/node/node-package-manager'\n\ninterface VersionServiceOptions {\n  currentVersion: string\n}\n\nexport async function versionService(options: VersionServiceOptions): Promise<void> {\n  const cliDependency = '@shopify/cli'\n  const currentVersion = options.currentVersion\n  output.info(output.content`Current Shopify CLI version: ${output.token.yellow(currentVersion)}`.value)\n  const lastVersion = await checkForNewVersion(cliDependency, currentVersion)\n  if (lastVersion) {\n    const packageManager = packageManagerUsedForCreating()\n    output.info(output.getOutputUpdateCLIReminder(packageManager, lastVersion))\n  }\n  throw new error.CancelExecution()\n}\n"]}